(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(3),c=a.n(o),i=(a(12),a(1)),s=a(4),l=a.n(s);var u=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("img",{className:"header__logo",src:l.a,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f Mesto."}))};var p=function(e){return r.a.createElement("section",{className:"popup popup-with-form popup_type_".concat(e.name," ").concat(e.isOpen&&"popup_opened")},r.a.createElement("form",{name:"".concat(e.name),className:"popup__container popup__container_for-form popup__container_type_".concat(e.name),noValidate:!0},r.a.createElement("button",{className:"popup__close-button",type:"button",onClick:e.onClose}),r.a.createElement("p",{className:"popup__title"},e.title),r.a.createElement("fieldset",{className:"popup__list"},e.children)))};var m=function(e){return r.a.createElement("section",{className:"popup popup_image ".concat(null!==e.card&&"popup_opened")},r.a.createElement("div",{className:"popup__container"},r.a.createElement("button",{className:"popup__close-button",type:"button",onClick:e.onClose}),r.a.createElement("div",{className:"popup__image",style:{backgroundImage:"url(".concat(null!==e.card&&e.card.link,")")}}," "),r.a.createElement("p",{className:"popup__title popup__title_for-image"},null!==e.card&&e.card.name)))};var d=function(e){return r.a.createElement("article",{className:"card"},r.a.createElement("button",{className:"card__remove-button",type:"button"}),r.a.createElement("div",{className:"card__image",style:{backgroundImage:"url(".concat(e.cardData.link,")")},onClick:function(){e.onCardClick({name:e.cardData.name,link:e.cardData.link})}}),r.a.createElement("p",{className:"card__name"},e.cardData.name),r.a.createElement("div",{className:"card__like-block"},r.a.createElement("button",{className:"card__like-button",type:"button"}),r.a.createElement("p",{className:"card__like-amount"},e.cardData.likes.length)))},_=a(5),h=a(6),f=new(function(){function e(t){Object(_.a)(this,e),this._baseUrl=t.baseUrl,this._authorizationNumber=t.authorizationNumber}return Object(h.a)(e,[{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:{authorization:this._authorizationNumber}}).then(this._returnErrorResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:{authorization:this._authorizationNumber}}).then(this._returnErrorResponse)}},{key:"patchUserInfo",value:function(e,t){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:{authorization:this._authorizationNumber,"Content-Type":"application/json"},body:JSON.stringify({name:e,about:t})}).then(this._returnErrorResponse)}},{key:"postNewCard",value:function(e,t){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:{authorization:this._authorizationNumber,"Content-Type":"application/json"},body:JSON.stringify({name:e,link:t})}).then(this._returnErrorResponse)}},{key:"patchAvatar",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._authorizationNumber,"Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then(this._returnErrorResponse)}},{key:"putLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:{authorization:this._authorizationNumber}}).then(this._returnErrorResponse)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:{authorization:this._authorizationNumber}}).then(this._returnErrorResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:{authorization:this._authorizationNumber}}).then(this._returnErrorResponse)}},{key:"_returnErrorResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}}]),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-12",authorizationNumber:"700729c8-6f90-4ed7-bfdf-eebcd18bcb3c"});var E=function(e){var t=r.a.useState(""),a=Object(i.a)(t,2),n=a[0],o=a[1],c=r.a.useState(""),s=Object(i.a)(c,2),l=s[0],u=s[1],_=r.a.useState(""),h=Object(i.a)(_,2),E=h[0],b=h[1],N=r.a.useState([]),v=Object(i.a)(N,2),k=v[0],y=v[1];return r.a.useEffect((function(){f.getUserInfo().then((function(e){o(e.name),u(e.about),b(e.avatar)})).catch((function(){console.error("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a.")})),f.getInitialCards().then((function(e){Array.from(e),y(e)})).catch((function(){console.error("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a.")}))}),[]),r.a.createElement("main",{className:"content"},r.a.createElement("section",{className:"profile"},r.a.createElement("div",{className:"profile__avatar-box"},r.a.createElement("div",{className:"profile__avatar",style:{backgroundImage:"url(".concat(E,")")}}),r.a.createElement("button",{className:"profile__avatar-edit-button",onClick:e.onEditAvatar})),r.a.createElement("div",{className:"profile__info"},r.a.createElement("div",{className:"profile__first-line"},r.a.createElement("p",{className:"profile__name"},n),r.a.createElement("button",{className:"profile__edit-button",type:"button",onClick:e.onEditProfile})),r.a.createElement("p",{className:"profile__description"},l)),r.a.createElement("button",{className:"profile__add-button",type:"button",onClick:e.onAddPlace})),r.a.createElement("section",{className:"cards"},k.map((function(t){return r.a.createElement(d,{cardData:t,onCardClick:e.onCardClick,key:t._id})}))),r.a.createElement(p,{name:"profile",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",isOpen:e.isEditProfilePopupOpen,onClose:e.onClose},r.a.createElement("input",{id:"name-input",type:"text",className:"popup__input",name:"name",placeholder:"\u0418\u043c\u044f",pattern:"[a-zA-Z\u0430-\u044f\u0410-\u042f\\s\\-]+",required:!0,minLength:"2",maxLength:"40"}),r.a.createElement("span",{id:"name-input-error",className:"popup__input-error"}),r.a.createElement("input",{id:"description-input",type:"text",className:"popup__input",name:"description",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",required:!0,minLength:"2",maxLength:"200"}),r.a.createElement("span",{id:"description-input-error",className:"popup__input-error"}),r.a.createElement("button",{type:"submit",className:"popup__save-button"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),r.a.createElement(p,{name:"avatar",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",isOpen:e.isEditAvatarPopupOpen,onClose:e.onClose},r.a.createElement("input",{id:"avatar-input",type:"url",className:"popup__input",name:"avatar",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e",required:!0}),r.a.createElement("span",{id:"avatar-input-error",className:"popup__input-error"}),r.a.createElement("button",{type:"submit",className:"popup__save-button"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),r.a.createElement(p,{name:"newplace",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",isOpen:e.isAddPlacePopupOpen,onClose:e.onClose},r.a.createElement("input",{id:"place-input",type:"text",className:"popup__input",name:"name",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",required:!0,minLength:"1",maxLength:"30"}),r.a.createElement("span",{id:"place-input-error",className:"popup__input-error"}),r.a.createElement("input",{id:"link-input",type:"url",className:"popup__input",name:"link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0}),r.a.createElement("span",{id:"link-input-error",className:"popup__input-error"}),r.a.createElement("button",{type:"submit",className:"popup__save-button"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")),r.a.createElement(p,{name:"removeCard",title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u044b?"},r.a.createElement("button",{type:"submit",className:"popup__save-button popup__save-button_active popup__save-button_for-remove"},"\u0414\u0430")),r.a.createElement(m,{card:e.card,onClose:e.onClose}))};var b=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",{className:"footer__copyright"}," \xa9 2020 Mesto Russia"))};var N=function(){var e=r.a.useState(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],o=r.a.useState(!1),c=Object(i.a)(o,2),s=c[0],l=c[1],p=r.a.useState(!1),m=Object(i.a)(p,2),d=m[0],_=m[1],h=r.a.useState(null),f=Object(i.a)(h,2),N=f[0],v=f[1];return r.a.createElement("div",{className:"root"},r.a.createElement(u,null),r.a.createElement(E,{onEditProfile:function(){n(!0)},onAddPlace:function(){l(!0)},onEditAvatar:function(){_(!0)},onCardClick:function(e){v({name:e.name,link:e.link})},onClose:function(){_(!1),n(!1),l(!1),v(null)},isEditAvatarPopupOpen:d,isAddPlacePopupOpen:s,isEditProfilePopupOpen:a,card:N}),r.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},4:function(e,t,a){e.exports=a.p+"static/media/logo_white.e889e45f.svg"},7:function(e,t,a){e.exports=a(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.f7fd00fc.chunk.js.map